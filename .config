# Core Target: SL3000 eMMC / MT7981B / filogic / Linux 6.6
CONFIG_TARGET_mediatek=y
CONFIG_TARGET_mediatek_filogic=y
CONFIG_TARGET_mediatek_filogic_DEVICE_mt7981b-sl3000-emmc=y

# Flagship Package - Network Proxy: Passwall2
CONFIG_PACKAGE_luci-app-passwall2=y

# Flagship Package - Network Proxy: SSR Plus+ (Full Protocol)
CONFIG_PACKAGE_luci-app-ssr-plus=y
CONFIG_PACKAGE_shadowsocksr-libev-ssr-local=y
CONFIG_PACKAGE_shadowsocksr-libev-ssr-redir=y
CONFIG_PACKAGE_xray-core=y
CONFIG_PACKAGE_v2ray-core=y
CONFIG_PACKAGE_hysteria2=y

# Flagship Package - Docker Full Set (With Compose/Manager)
CONFIG_PACKAGE_docker=y
CONFIG_PACKAGE_dockerd=y
CONFIG_PACKAGE_luci-app-dockerman=y
CONFIG_PACKAGE_docker-compose=y
CONFIG_PACKAGE_containerd=y

# eMMC File System Support (No USB Redundant, Fit SL3000)
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-btrfs=y
CONFIG_PACKAGE_block-mount=y
CONFIG_PACKAGE_f2fs-tools=y
CONFIG_PACKAGE_blkid=y
CONFIG_PACKAGE_losetup=y

# Core Dependency - Network Proxy (Mandatory for forward)
CONFIG_PACKAGE_ipset=y
CONFIG_PACKAGE_iptables-mod-tproxy=y
CONFIG_PACKAGE_iptables-mod-nat-extra=y
CONFIG_PACKAGE_ip6tables-mod-nat=y

# Engineering Compile Config (ImmortalWrt 24.10 Exclusive)
CONFIG_DEVEL=y
CONFIG_CCACHE=y
CONFIG_CCACHE_SIZE="10G"
CONFIG_DISABLE_WERROR=y
CONFIG_GCC_OPTIMIZE_O3=y
CONFIG_TARGET_OPTIMIZATION="-O3 -march=armv8-a+crc -mtune=cortex-a53"

# Firmware Version Custom (Engineering Flagship)
CONFIG_VERSION_CUSTOM=y
CONFIG_VERSION_PREFIX="SL3000-ImmortalWrt"
CONFIG_VERSION_SUFFIX="24.10-Engineering"
CONFIG_VERSION_NUMBER="20251201"

# Root File System (SQUASHFS+ZSTD - Best for eMMC)
CONFIG_TARGET_ROOTFS_SQUASHFS=y
CONFIG_TARGET_ROOTFS_SQUASHFS_COMPRESSION_ZSTD=y
CONFIG_TARGET_ROOTFS_SQUASHFS_BLOCK_SIZE=256k
CONFIG_TARGET_ROOTFS_PARTSIZE=1024

# System Tools & Slim Optimization (Useful Only)
CONFIG_PACKAGE_ip-full=y
CONFIG_PACKAGE_sshd=y
CONFIG_PACKAGE_wget=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_dnsmasq_full_remove_resolvconf=y
CONFIG_PACKAGE_wpad-basic-wolfssl=y

# Build Optimization (Avoid OOM/ Build Error)
CONFIG_MAX_PARALLEL_JOBS=$(nproc)
CONFIG_DOWNLOAD_FOLDER="./dl"
CONFIG_OFFLINE_BUILD=y
CONFIG_SKIP_PACKAGE_SIGNATURE_CHECK=y

# Slim: Disable IPv6 (No need for most scenarios)
CONFIG_NO_IPV6=y

# Slim: Disable Bluetooth (MT7981B no Bluetooth hardware)
CONFIG_BT=n
CONFIG_BLUETOOTH=n
