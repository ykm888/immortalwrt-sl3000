// SPDX-License-Identifier: (GPL-2.0 OR MIT)
/*
 * Copyright (c) 2020 MediaTek Inc.
 * Author: Sam.Shih <sam.shih@mediatek.com>
 * Author: Jianhui Zhao <zhaojh329@gmail.com>
 */

#include <dt-bindings/interrupt-controller/irq.h>
#include <dt-bindings/interrupt-controller/arm-gic.h>
#include <dt-bindings/phy/phy.h>
#include <dt-bindings/clock/mediatek,mt7981-clk.h>
#include <dt-bindings/reset/mt7986-resets.h>
#include <dt-bindings/pinctrl/mt65xx.h>
#include <dt-bindings/leds/common.h>
#include <dt-bindings/input/linux-event-codes.h>
#include <dt-bindings/gpio/gpio.h>
#include <dt-bindings/mux/mux.h>

/* 顶层属性直接展开，不要再写 / { } */
compatible = "mediatek,mt7981";
interrupt-parent = <&gic>;
#address-cells = <2>;
#size-cells = <2>;

cpus {
    #address-cells = <1>;
    #size-cells = <0>;

    cpu@0 {
        compatible = "arm,cortex-a53";
        reg = <0x0>;
        device_type = "cpu";
        enable-method = "psci";
    };

    cpu@1 {
        compatible = "arm,cortex-a53";
        reg = <0x1>;
        device_type = "cpu";
        enable-method = "psci";
    };
};

/* 其他节点保持原样，只去掉最外层 / { } */
ice: ice_debug { ... };
clk40m: oscillator-40m { ... };
psci { ... };
fan: pwm-fan { ... };
reg_3p3v: regulator-3p3v { ... };

reserved-memory { ... };

soc {
    compatible = "simple-bus";
    ranges;
    #address-cells = <2>;
    #size-cells = <2>;

    gic: interrupt-controller@c000000 { ... };
    consys: consys@10000000 { ... };
    infracfg: clock-controller@10001000 { ... };
    /* 省略其余节点，保持原样 */
};

thermal-zones { ... };
timer { ... };
trng { ... };
