// SPDX-License-Identifier: GPL-2.0-only OR MIT
/dts-v1/;

/*
 * 24.10 + 6.6：板级符号在 mt7981-rfb.dts 里，
 * 直接继承参考板，下面只做差异覆盖。
 */
#include "mt7981-rfb.dts"
#include <dt-bindings/gpio/gpio.h>
#include <dt-bindings/input/input.h>
#include <dt-bindings/leds/common.h>

/ {
    model = "SL SL3000 eMMC Engineering Flagship Edition";
    compatible = "sl,sl3000-emmc", "mediatek,mt7981b";
};

/* 覆盖 LED 定义 */
&leds {
    led_status: led-status {
        label = "sl:blue:status";
        gpios = <&pio 12 GPIO_ACTIVE_LOW>;
        linux,default-trigger = "heartbeat";
        default-state = "on";
    };
};

/* 覆盖按键定义 */
&keys {
    reset {
        label = "reset";
        gpios = <&pio 18 GPIO_ACTIVE_LOW>;
        linux,code = <KEY_RESTART>;
        debounce-interval = <60>;
    };
};

/* 覆盖存储控制器 */
&mmc0 {
    status = "okay";
    bus-width = <8>;
    mmc-hs200-1_8v;
    non-removable;
    cap-mmc-hw-reset;
    mediatek,mmc-wp-disable;
};

/* 覆盖网口 */
&gmac0 {
    status = "okay";
    phy-mode = "rgmii";
    phy-handle = <&phy0>;
    nvmem-cells = <&macaddr_factory_4>;
    nvmem-cell-names = "mac-address";
};

/* 工厂分区 MAC 地址 */
&factory {
    macaddr_factory_4: macaddr@4 {
        reg = <0x4 0x6>;
    };
};
